{"ast":null,"code":"import _objectSpread from\"C:/Users/Dell/Desktop/project/frontend/Plant-Care-Scheduler-Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{getTasks,createTask,updateTask,deleteTask}from'../../services/taskService';import{axiosConfig}from'../../services/axiosConfig';import{canCreate,canUpdate,canDelete,isReadOnly}from'../../utils/permissions';import'../../styles/components.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const CareTasks=_ref=>{let{plantId,userRole='GUEST'}=_ref;const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(false);const[newTask,setNewTask]=useState({taskType:'WATERING',scheduledDate:'',priority:'MEDIUM',notes:''});const[editingTask,setEditingTask]=useState(null);const fetchTasks=async()=>{setLoading(true);try{const url=plantId?\"/care-tasks?plantId=\".concat(plantId):'/care-tasks';const response=await axiosConfig.get(url);console.log('Care tasks API response:',response.data);setTasks(Array.isArray(response.data)?response.data:[]);}catch(error){console.error('Error fetching tasks:',error);setTasks([]);}setLoading(false);};const handleCreateTask=async e=>{e.preventDefault();// Use plantId from props or default to first plant\nlet targetPlantId=plantId;if(!targetPlantId){// If no plantId provided, use plant ID 1 as default\ntargetPlantId=1;}try{const taskToSend={plantId:targetPlantId,taskType:newTask.taskType,scheduledDate:newTask.scheduledDate,priority:newTask.priority||'MEDIUM',notes:newTask.notes||null,status:'PENDING'};console.log('Sending care task:',taskToSend);if(editingTask){taskToSend.status=editingTask.status;await axiosConfig.put(\"/care-tasks/\".concat(editingTask.id),taskToSend);setEditingTask(null);alert('Task updated successfully!');}else{taskToSend.status='PENDING';await axiosConfig.post('/care-tasks',taskToSend);alert('Task created successfully!');}setNewTask({taskType:'WATERING',scheduledDate:'',priority:'MEDIUM',notes:''});fetchTasks();}catch(error){var _error$response,_error$response2,_error$response2$data;console.error('Error saving task:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);alert(\"Failed to save task: \".concat(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message));}};const handleEditTask=task=>{setEditingTask(task);setNewTask({taskType:task.taskType,scheduledDate:task.scheduledDate,priority:task.priority,notes:task.notes||''});};const handleDeleteTask=async taskId=>{if(window.confirm('Are you sure you want to delete this task?')){try{await axiosConfig.delete(\"/care-tasks/\".concat(taskId));fetchTasks();alert('Task deleted successfully!');}catch(error){console.error('Error deleting task:',error);alert('Failed to delete task.');}}};const handleCompleteTask=async task=>{try{// Update task status to completed\nawait axiosConfig.put(\"/care-tasks/\".concat(task.id),_objectSpread(_objectSpread({},task),{},{status:'COMPLETED'}));// Generate next care suggestion\nconst nextCareDate=getNextCareDate(task.taskType);const suggestion=getCareSuggestion(task.taskType,nextCareDate);// Show suggestion and ask if user wants to schedule next task\nconst scheduleNext=window.confirm(suggestion+'\\n\\nWould you like to schedule the next '+task.taskType.toLowerCase()+' task?');if(scheduleNext){setNewTask({taskType:task.taskType,scheduledDate:nextCareDate,priority:task.priority,notes:\"Auto-scheduled after completing previous \".concat(task.taskType.toLowerCase(),\" task\")});// Set notification reminder\nconst careReminders=JSON.parse(localStorage.getItem('careReminders')||'[]');careReminders.push({id:Date.now(),plantName:\"Plant \".concat(task.plantId),type:task.taskType,date:nextCareDate,notified:false});localStorage.setItem('careReminders',JSON.stringify(careReminders));}fetchTasks();alert('Task completed successfully!');}catch(error){console.error('Error completing task:',error);alert('Failed to complete task.');}};const getNextCareDate=taskType=>{const now=new Date();let daysToAdd=7;// Default 1 week\nswitch(taskType){case'WATERING':daysToAdd=3;// Every 3 days\nbreak;case'FERTILIZING':daysToAdd=14;// Every 2 weeks\nbreak;case'PRUNING':daysToAdd=30;// Every month\nbreak;case'REPOTTING':daysToAdd=180;// Every 6 months\nbreak;}const nextDate=new Date(now.getTime()+daysToAdd*24*60*60*1000);return nextDate.toISOString().slice(0,16);// Format for datetime-local input\n};const getCareSuggestion=(taskType,nextDate)=>{const formattedDate=new Date(nextDate).toLocaleDateString();switch(taskType){case'WATERING':return\"Great job watering your plant! \\n\\nNext watering suggestion: \".concat(formattedDate,\"\\n\\nTip: Check soil moisture before watering. Stick your finger 1-2 inches into the soil - if it's dry, it's time to water!\");case'FERTILIZING':return\"Excellent fertilizing! Your plant will love the nutrients.\\n\\nNext fertilizing suggestion: \".concat(formattedDate,\"\\n\\nTip: During growing season (spring/summer), fertilize every 2 weeks. In winter, reduce to once a month.\");case'PRUNING':return\"Nice pruning work! This will help your plant grow healthier.\\n\\nNext pruning suggestion: \".concat(formattedDate,\"\\n\\nTip: Always use clean, sharp tools and prune just above a leaf node or branch junction.\");case'REPOTTING':return\"Perfect repotting! Your plant has more room to grow now.\\n\\nNext repotting suggestion: \".concat(formattedDate,\"\\n\\nTip: Most plants need repotting every 1-2 years when roots become pot-bound.\");default:return\"Task completed! Next suggested date: \".concat(formattedDate);}};const handleCancelEdit=()=>{setEditingTask(null);setNewTask({taskType:'WATERING',scheduledDate:'',priority:'MEDIUM',notes:''});};useEffect(()=>{console.log('CareTasks component mounted, plantId:',plantId);fetchTasks();},[plantId]);useEffect(()=>{console.log('CareTasks: Force initial load');fetchTasks();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Care Tasks \",plantId?\"for Plant ID: \".concat(plantId):'(All Plants)']}),/*#__PURE__*/_jsx(\"div\",{className:\"tip-box\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tip:\"}),\" \",plantId?\"Managing tasks for Plant ID: \".concat(plantId):'Managing tasks for default plant (ID: 1). Click on a plant card to select a specific plant.']})}),canCreate(userRole)&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateTask,className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h4\",{children:editingTask?'Edit Task':'Add New Task'}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"select\",{value:newTask.taskType,onChange:e=>setNewTask(_objectSpread(_objectSpread({},newTask),{},{taskType:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"WATERING\",children:\"Watering\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FERTILIZING\",children:\"Fertilizing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PRUNING\",children:\"Pruning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"REPOTTING\",children:\"Repotting\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:newTask.scheduledDate,onChange:e=>setNewTask(_objectSpread(_objectSpread({},newTask),{},{scheduledDate:e.target.value})),required:true})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"select\",{value:newTask.priority,onChange:e=>setNewTask(_objectSpread(_objectSpread({},newTask),{},{priority:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"LOW\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MEDIUM\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HIGH\",children:\"High\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Notes\",value:newTask.notes,onChange:e=>setNewTask(_objectSpread(_objectSpread({},newTask),{},{notes:e.target.value}))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:editingTask?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"})}),\" Update Task\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"})}),\" Create Task\"]})}),editingTask&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleCancelEdit,className:\"btn btn-secondary\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"})}),\"Cancel\"]})]})]}),isReadOnly(userRole)&&/*#__PURE__*/_jsx(\"div\",{className:\"read-only-notice\",style:{padding:'15px',background:'#f0f9ff',border:'1px solid #0ea5e9',borderRadius:'8px',marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,color:'#0369a1'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"View Only:\"}),\" You have read-only access. Contact an administrator for edit permissions.\"]})}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"div\",{children:tasks.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No tasks found. Create one above!\"}):tasks.map(task=>{var _task$priority,_task$status;return/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"})}),\" \",task.taskType]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Priority:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"status-badge status-\".concat((_task$priority=task.priority)===null||_task$priority===void 0?void 0:_task$priority.toLowerCase()),children:task.priority})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"status-badge status-\".concat((_task$status=task.status)===null||_task$status===void 0?void 0:_task$status.toLowerCase()),children:task.status})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Scheduled:\"}),\" \",/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"})}),\" \",new Date(task.scheduledDate).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"})}),\" \",task.notes||'No notes']}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-actions\",children:[canUpdate(userRole)&&task.status!=='COMPLETED'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCompleteTask(task),className:\"btn btn-success\",style:{backgroundColor:'#10b981',borderColor:'#10b981'},children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"})}),\"Complete\"]}),canUpdate(userRole)&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleEditTask(task),className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"})}),\"Edit\"]}),canDelete(userRole)&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDeleteTask(task.id),className:\"btn btn-danger\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"})}),\"Delete\"]})]})]},task.id);})})]});};export default CareTasks;","map":{"version":3,"names":["React","useState","useEffect","getTasks","createTask","updateTask","deleteTask","axiosConfig","canCreate","canUpdate","canDelete","isReadOnly","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","CareTasks","_ref","plantId","userRole","tasks","setTasks","loading","setLoading","newTask","setNewTask","taskType","scheduledDate","priority","notes","editingTask","setEditingTask","fetchTasks","url","concat","response","get","console","log","data","Array","isArray","error","handleCreateTask","e","preventDefault","targetPlantId","taskToSend","status","put","id","alert","post","_error$response","_error$response2","_error$response2$data","message","handleEditTask","task","handleDeleteTask","taskId","window","confirm","delete","handleCompleteTask","_objectSpread","nextCareDate","getNextCareDate","suggestion","getCareSuggestion","scheduleNext","toLowerCase","careReminders","JSON","parse","localStorage","getItem","push","Date","now","plantName","type","date","notified","setItem","stringify","daysToAdd","nextDate","getTime","toISOString","slice","formattedDate","toLocaleDateString","handleCancelEdit","style","padding","children","className","onSubmit","marginBottom","value","onChange","target","required","placeholder","width","height","viewBox","fill","marginRight","d","onClick","background","border","borderRadius","margin","color","length","map","_task$priority","_task$status","toLocaleString","backgroundColor","borderColor"],"sources":["C:/Users/Dell/Desktop/project/frontend/Plant-Care-Scheduler-Frontend/src/components/care/CareTasks.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getTasks, createTask, updateTask, deleteTask } from '../../services/taskService';\r\nimport { axiosConfig } from '../../services/axiosConfig';\r\nimport { canCreate, canUpdate, canDelete, isReadOnly } from '../../utils/permissions';\r\nimport '../../styles/components.css';\r\n\r\nconst CareTasks = ({ plantId, userRole = 'GUEST' }) => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [newTask, setNewTask] = useState({\r\n    taskType: 'WATERING',\r\n    scheduledDate: '',\r\n    priority: 'MEDIUM',\r\n    notes: ''\r\n  });\r\n  const [editingTask, setEditingTask] = useState(null);\r\n\r\n  const fetchTasks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const url = plantId ? `/care-tasks?plantId=${plantId}` : '/care-tasks';\r\n      const response = await axiosConfig.get(url);\r\n      console.log('Care tasks API response:', response.data);\r\n      setTasks(Array.isArray(response.data) ? response.data : []);\r\n    } catch (error) {\r\n      console.error('Error fetching tasks:', error);\r\n      setTasks([]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleCreateTask = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Use plantId from props or default to first plant\r\n    let targetPlantId = plantId;\r\n    if (!targetPlantId) {\r\n      // If no plantId provided, use plant ID 1 as default\r\n      targetPlantId = 1;\r\n    }\r\n    \r\n    try {\r\n      const taskToSend = {\r\n        plantId: targetPlantId,\r\n        taskType: newTask.taskType,\r\n        scheduledDate: newTask.scheduledDate,\r\n        priority: newTask.priority || 'MEDIUM',\r\n        notes: newTask.notes || null,\r\n        status: 'PENDING'\r\n      };\r\n      \r\n      console.log('Sending care task:', taskToSend);\r\n      \r\n      if (editingTask) {\r\n        taskToSend.status = editingTask.status;\r\n        await axiosConfig.put(`/care-tasks/${editingTask.id}`, taskToSend);\r\n        setEditingTask(null);\r\n        alert('Task updated successfully!');\r\n      } else {\r\n        taskToSend.status = 'PENDING';\r\n        await axiosConfig.post('/care-tasks', taskToSend);\r\n        alert('Task created successfully!');\r\n      }\r\n      setNewTask({ taskType: 'WATERING', scheduledDate: '', priority: 'MEDIUM', notes: '' });\r\n      fetchTasks();\r\n    } catch (error) {\r\n      console.error('Error saving task:', error.response?.data || error.message);\r\n      alert(`Failed to save task: ${error.response?.data?.message || error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleEditTask = (task) => {\r\n    setEditingTask(task);\r\n    setNewTask({\r\n      taskType: task.taskType,\r\n      scheduledDate: task.scheduledDate,\r\n      priority: task.priority,\r\n      notes: task.notes || ''\r\n    });\r\n  };\r\n\r\n  const handleDeleteTask = async (taskId) => {\r\n    if (window.confirm('Are you sure you want to delete this task?')) {\r\n      try {\r\n        await axiosConfig.delete(`/care-tasks/${taskId}`);\r\n        fetchTasks();\r\n        alert('Task deleted successfully!');\r\n      } catch (error) {\r\n        console.error('Error deleting task:', error);\r\n        alert('Failed to delete task.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCompleteTask = async (task) => {\r\n    try {\r\n      // Update task status to completed\r\n      await axiosConfig.put(`/care-tasks/${task.id}`, {\r\n        ...task,\r\n        status: 'COMPLETED'\r\n      });\r\n      \r\n      // Generate next care suggestion\r\n      const nextCareDate = getNextCareDate(task.taskType);\r\n      const suggestion = getCareSuggestion(task.taskType, nextCareDate);\r\n      \r\n      // Show suggestion and ask if user wants to schedule next task\r\n      const scheduleNext = window.confirm(suggestion + '\\n\\nWould you like to schedule the next ' + task.taskType.toLowerCase() + ' task?');\r\n      \r\n      if (scheduleNext) {\r\n        setNewTask({\r\n          taskType: task.taskType,\r\n          scheduledDate: nextCareDate,\r\n          priority: task.priority,\r\n          notes: `Auto-scheduled after completing previous ${task.taskType.toLowerCase()} task`\r\n        });\r\n        \r\n        // Set notification reminder\r\n        const careReminders = JSON.parse(localStorage.getItem('careReminders') || '[]');\r\n        careReminders.push({\r\n          id: Date.now(),\r\n          plantName: `Plant ${task.plantId}`,\r\n          type: task.taskType,\r\n          date: nextCareDate,\r\n          notified: false\r\n        });\r\n        localStorage.setItem('careReminders', JSON.stringify(careReminders));\r\n      }\r\n      \r\n      fetchTasks();\r\n      alert('Task completed successfully!');\r\n    } catch (error) {\r\n      console.error('Error completing task:', error);\r\n      alert('Failed to complete task.');\r\n    }\r\n  };\r\n\r\n  const getNextCareDate = (taskType) => {\r\n    const now = new Date();\r\n    let daysToAdd = 7; // Default 1 week\r\n    \r\n    switch (taskType) {\r\n      case 'WATERING':\r\n        daysToAdd = 3; // Every 3 days\r\n        break;\r\n      case 'FERTILIZING':\r\n        daysToAdd = 14; // Every 2 weeks\r\n        break;\r\n      case 'PRUNING':\r\n        daysToAdd = 30; // Every month\r\n        break;\r\n      case 'REPOTTING':\r\n        daysToAdd = 180; // Every 6 months\r\n        break;\r\n    }\r\n    \r\n    const nextDate = new Date(now.getTime() + (daysToAdd * 24 * 60 * 60 * 1000));\r\n    return nextDate.toISOString().slice(0, 16); // Format for datetime-local input\r\n  };\r\n\r\n  const getCareSuggestion = (taskType, nextDate) => {\r\n    const formattedDate = new Date(nextDate).toLocaleDateString();\r\n    \r\n    switch (taskType) {\r\n      case 'WATERING':\r\n        return `Great job watering your plant! \\n\\nNext watering suggestion: ${formattedDate}\\n\\nTip: Check soil moisture before watering. Stick your finger 1-2 inches into the soil - if it's dry, it's time to water!`;\r\n      case 'FERTILIZING':\r\n        return `Excellent fertilizing! Your plant will love the nutrients.\\n\\nNext fertilizing suggestion: ${formattedDate}\\n\\nTip: During growing season (spring/summer), fertilize every 2 weeks. In winter, reduce to once a month.`;\r\n      case 'PRUNING':\r\n        return `Nice pruning work! This will help your plant grow healthier.\\n\\nNext pruning suggestion: ${formattedDate}\\n\\nTip: Always use clean, sharp tools and prune just above a leaf node or branch junction.`;\r\n      case 'REPOTTING':\r\n        return `Perfect repotting! Your plant has more room to grow now.\\n\\nNext repotting suggestion: ${formattedDate}\\n\\nTip: Most plants need repotting every 1-2 years when roots become pot-bound.`;\r\n      default:\r\n        return `Task completed! Next suggested date: ${formattedDate}`;\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingTask(null);\r\n    setNewTask({ taskType: 'WATERING', scheduledDate: '', priority: 'MEDIUM', notes: '' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('CareTasks component mounted, plantId:', plantId);\r\n    fetchTasks();\r\n  }, [plantId]);\r\n  \r\n  useEffect(() => {\r\n    console.log('CareTasks: Force initial load');\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h3>Care Tasks {plantId ? `for Plant ID: ${plantId}` : '(All Plants)'}</h3>\r\n      \r\n      <div className=\"tip-box\">\r\n        <p><strong>Tip:</strong> {plantId ? `Managing tasks for Plant ID: ${plantId}` : 'Managing tasks for default plant (ID: 1). Click on a plant card to select a specific plant.'}</p>\r\n      </div>\r\n      \r\n      {canCreate(userRole) && (\r\n        <form onSubmit={handleCreateTask} className=\"form-container\">\r\n        <h4>{editingTask ? 'Edit Task' : 'Add New Task'}</h4>\r\n        <div style={{ marginBottom: '10px' }}>\r\n          <select value={newTask.taskType} onChange={(e) => setNewTask({...newTask, taskType: e.target.value})}>\r\n            <option value=\"WATERING\">Watering</option>\r\n            <option value=\"FERTILIZING\">Fertilizing</option>\r\n            <option value=\"PRUNING\">Pruning</option>\r\n            <option value=\"REPOTTING\">Repotting</option>\r\n          </select>\r\n        </div>\r\n        <div style={{ marginBottom: '10px' }}>\r\n          <input \r\n            type=\"datetime-local\" \r\n            value={newTask.scheduledDate} \r\n            onChange={(e) => setNewTask({...newTask, scheduledDate: e.target.value})} \r\n            required \r\n          />\r\n        </div>\r\n        <div style={{ marginBottom: '10px' }}>\r\n          <select value={newTask.priority} onChange={(e) => setNewTask({...newTask, priority: e.target.value})}>\r\n            <option value=\"LOW\">Low</option>\r\n            <option value=\"MEDIUM\">Medium</option>\r\n            <option value=\"HIGH\">High</option>\r\n          </select>\r\n        </div>\r\n        <div style={{ marginBottom: '10px' }}>\r\n          <input \r\n            type=\"text\" \r\n            placeholder=\"Notes\" \r\n            value={newTask.notes} \r\n            onChange={(e) => setNewTask({...newTask, notes: e.target.value})} \r\n          />\r\n        </div>\r\n        <div className=\"form-actions\">\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            {editingTask ? (\r\n              <><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}><path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/></svg> Update Task</>\r\n            ) : (\r\n              <><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg> Create Task</>\r\n            )}\r\n          </button>\r\n          {editingTask && (\r\n            <button type=\"button\" onClick={handleCancelEdit} className=\"btn btn-secondary\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}>\r\n                <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n              </svg>\r\n              Cancel\r\n            </button>\r\n          )}\r\n        </div>\r\n        </form>\r\n      )}\r\n      \r\n      {isReadOnly(userRole) && (\r\n        <div className=\"read-only-notice\" style={{padding: '15px', background: '#f0f9ff', border: '1px solid #0ea5e9', borderRadius: '8px', marginBottom: '20px'}}>\r\n          <p style={{margin: 0, color: '#0369a1'}}><strong>View Only:</strong> You have read-only access. Contact an administrator for edit permissions.</p>\r\n        </div>\r\n      )}\r\n\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <div>\r\n          {tasks.length === 0 ? (\r\n            <p>No tasks found. Create one above!</p>\r\n          ) : (\r\n            tasks.map(task => (\r\n              <div key={task.id} className=\"data-card\">\r\n                <h4><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}><path d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"/></svg> {task.taskType}</h4>\r\n                <p><strong>Priority:</strong> <span className={`status-badge status-${task.priority?.toLowerCase()}`}>{task.priority}</span></p>\r\n                <p><strong>Status:</strong> <span className={`status-badge status-${task.status?.toLowerCase()}`}>{task.status}</span></p>\r\n                <p><strong>Scheduled:</strong> <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}><path d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"/></svg> {new Date(task.scheduledDate).toLocaleString()}</p>\r\n                <p><strong>Notes:</strong> <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}><path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/></svg> {task.notes || 'No notes'}</p>\r\n                <div className=\"data-actions\">\r\n                  {canUpdate(userRole) && task.status !== 'COMPLETED' && (\r\n                    <button onClick={() => handleCompleteTask(task)} className=\"btn btn-success\" style={{backgroundColor: '#10b981', borderColor: '#10b981'}}>\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}>\r\n                        <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                      </svg>\r\n                      Complete\r\n                    </button>\r\n                  )}\r\n                  {canUpdate(userRole) && (\r\n                    <button onClick={() => handleEditTask(task)} className=\"btn btn-primary\">\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}>\r\n                        <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\r\n                      </svg>\r\n                      Edit\r\n                    </button>\r\n                  )}\r\n                  {canDelete(userRole) && (\r\n                    <button onClick={() => handleDeleteTask(task.id)} className=\"btn btn-danger\">\r\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{marginRight: '4px'}}>\r\n                        <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>\r\n                      </svg>\r\n                      Delete\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CareTasks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}